DROP TABLE IF EXISTS USERS_ROLES;
DROP TABLE IF EXISTS USER;
DROP TABLE IF EXISTS ROLE;



CREATE TABLE ROLE (
  ID BIGINT(20) NOT NULL PRIMARY KEY,
  NAME VARCHAR(255) DEFAULT NULL
);

CREATE TABLE USER  (
   ID  BIGINT(20) NOT NULL PRIMARY KEY,
   EMAIL  VARCHAR(255) NOT NULL,
   FIRST_NAME  VARCHAR(255) DEFAULT NULL,
   LAST_NAME  VARCHAR(255) DEFAULT NULL,
   PASSWORD  VARCHAR(255) DEFAULT NULL
);

ALTER TABLE USER ADD UNIQUE (EMAIL);


CREATE TABLE  USERS_ROLES  (
   USER_ID  BIGINT(20) NOT NULL,
   ROLE_ID  BIGINT(20) NOT NULL
); 

ALTER TABLE USERS_ROLES ADD CONSTRAINT FK_USER_USERS_ROLES FOREIGN KEY (USER_ID) REFERENCES USER(ID);

ALTER TABLE USERS_ROLES ADD CONSTRAINT FK_ROLE_USERS_ROLES FOREIGN KEY (ROLE_ID) REFERENCES ROLE(ID);
